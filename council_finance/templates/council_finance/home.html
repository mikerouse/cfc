{% extends "base.html" %}
{% block title %}Home - Council Finance Counters{% endblock %}
{% block content %}
<h1 class="text-2xl font-bold mb-4">Welcome to Council Finance Counters</h1>
<p>Total council debt: {{ total_debt|floatformat:0 }}</p>
{% if promoted_counters %}
<div class="my-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
    {% for item in promoted_counters %}
    <div class="p-3 bg-gray-50 rounded text-center">
        <p class="text-sm text-gray-600 mb-1">{{ item.name }}</p>
        <p class="text-2xl font-bold">{{ item.formatted }}</p>
    </div>
    {% endfor %}
</div>
{% endif %}
<form method="get" action="{% url 'home' %}" class="my-4 flex gap-2">
    <input type="text" name="q" value="{{ query }}" placeholder="Search councils" class="border rounded px-2 py-1" />
    <button type="submit" class="bg-blue-600 text-white px-4 py-1 rounded">Search</button>
</form>
<ul class="list-disc pl-5">
{% for council in councils %}
    <li><a href="{% url 'council_detail' council.slug %}" class="text-blue-700 hover:underline">{{ council.name }}</a></li>
{% empty %}
    {% if query %}
    <li>No councils found.</li>
    {% endif %}
{% endfor %}
</ul>
{% endblock %}
